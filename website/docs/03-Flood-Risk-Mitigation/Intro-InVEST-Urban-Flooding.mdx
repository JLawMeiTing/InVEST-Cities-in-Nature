---
id: about
title: Model Details
---

![Cover Image for the case study titled `An introduction to InVEST urban flooding model`](../../static/img/banner-image-invest-flooding.png)


## Summary

> The InVEST Urban Flood Risk Mitigation Model calculates the runoff reduction, i.e. the amount of runoff retained per pixel compared to the storm volume. For each watershed, it also calculates the potential economic damage by overlaying information on flood extent potential and built infrastructure. <br /> <br /> <p align="right">from [InVEST Documentation](https://invest-userguide.readthedocs.io/en/latest/urban_flood_mitigation.html)</p>

## Data needs

Before running the InVEST Urban Flood Risk Mitigation Model, check the key model input [here](./Data-InVEST-Urban-Flooding.mdx).

## How to run the model?  

<iframe
  class="video"
  src="https://www.youtube.com/embed/vN8P3FzHoJM"
  frameborder="0"
  allow="accelerometer; autoplay; encrypted-media; gyroscope;"
  allowfullscreen>
</iframe>

## Model output 

### Layout
InVEST Urban Flood Risk Mitigation Model outputs have the following layout:

```
.
│  flood_risk_service.dbf
│  flood_risk_service.prj
│  flood_risk_service.shp
│  flood_risk_service.shx
│  InVEST-natcap.invest.urban_flood_risk_mitigation-log-2023-01-03--19_16_18.txt
│  precipitation=100.txt
│  Q_mm.tif
│  Runoff_retention.tif
│  Runoff_retention_m3.tif
│
├─intermediate_files
│      Q_m3.tif
│      reprojected_aoi.gpkg
│      structures_reprojected.gpkg
│
└─temp_working_dir_not_for_humans
        aligned_lulc.tif
        aligned_lulc.tif.aux.xml
        aligned_soils_hydrological_group.tif
        aligned_soils_hydrological_group.tif.aux.xml
        cn_raster.tif
        s_max.tif
        taskgraph_data.db
```  

### Structure rundown
| Folder   | File name(s)                                | Explanation                               |
| :------- | :------------------------------------------:| :---------------------------------------- |
| ./       | `flood_risk_service.*(dbf,prj,shp,shx)`     | Shapefile with results in the attribute table, e.g., <ul><li>average of runoff retention values per watershed</li> <li>sum of runoff retention volumes per watershed</li> <li>flood volume per watershed</li> <li>potential damage to built infrastructure per watershed</li> <li>an indicator of the runoff retention service for the watershed</li> </ul> |
| ./       |  `Q_mm.tif`                                 | Runoff map (Unit: mm)  |
| ./       |  `Runoff_retention.tif`                     | Runoff retention ratio map (no unit, relative to precipitation volume)           |
| ./       |  `Runoff_retention_m3.tif`                  | Runoff retention volume map (Unit: m<sup>3</sup>) |
| ./       | `*.txt`                                     | The txt file lists the parameter values and output messages for that run and will be named according to the service, the date and time|
 

:::note
Only key outputs are listed in the above table.

As reflected by its name, files in the `/intermediate` folder are intermediate output. 

If you want to learn more on these output, you can refer to this [link](https://storage.googleapis.com/releases.naturalcapitalproject.org/invest-userguide/latest/urban_flood_mitigation.html#data-needs).
:::


### Results visualization

| <!-- -->                                                   | <!-- -->            |            
| :---------------------------------------------------------------: | :-----------------: |
| Distribution of runoff (Q) <br /> <br /> (Figure 1)               |<img src={require("@site/static/img/ufrm-100-Q.png").default} width="80%"/> |
| Distribution of runoff retention ratio <br /> <br /> (Figure 2)   |<img src={require("@site/static/img/ufrm-100-runoff-retention.png").default} width="80%"/> |
| Distribution of runoff retention <br /> <br /> (Figure 3)         |<img src={require("@site/static/img/ufrm-100-Runoff-retention-values.png").default} width="80%"/> |
| Distribution of runoff retention service <br /> <br /> (Figure 4) |<img src={require("@site/static/img/ufrm-100-service.png").default} width="80%"/> |
| Same as Figure 1, but with land use change                        |<img src={require("@site/static/img/ufrm-100-Q_lulc.png").default} width="80%"/> |
| Same as Figure 2, but with land use change             |<img src={require("@site/static/img/ufrm-100-runoff-retention_lulc.png").default} width="80%"/> |
| Same as Figure 3, but with land use change             |<img src={require("@site/static/img/ufrm-100-Runoff-retention-values_lulc.png").default} width="80%"/> |
| Same as Figure 4, but with land use change             |<img src={require("@site/static/img/ufrm-100-service_lulc.png").default} width="80%"/> |

